Date.prototype.addHoras=function(e){this.setHours(this.getHours()+e)},Date.prototype.addMinutos=function(e){this.setMinutes(this.getMinutes()+e)},Date.prototype.addSegundos=function(e){this.setSeconds(this.getSeconds()+e)},Date.prototype.addDias=function(e){this.setDate(this.getDate()+e)},Date.prototype.addMeses=function(e){this.setMonth(this.getMonth()+e)},Date.prototype.addAnos=function(e){this.setYear(this.getFullYear()+e)},function(e){e.fn.fpTempo=function(a){function s(){j.each(function(){var a,i,s,o=e(this);o.attr("data-woeid")&&(a=o.attr("data-woeid")),o.attr("data-cidade")&&(i=o.attr("data-cidade")),o.attr("data-estado")&&(s=o.attr("data-estado")),D.woeid&&(a=D.woeid),D.cidade&&(i=D.cidade),D.estado&&(s=D.estado);var n=t(a,i,s,o);"callback"==D.format&&n&&"function"==typeof D.callback&&D.callback(o,n),"html"==D.format&&n&&c(o,n)})}function o(e,a,i){var s="https://query.yahooapis.com/v1/public/yql?q=select%20*%20from%20weather.forecast%20where%20woeid%20";return l(e)?l(a)||l(i)||(s+="in%20(select%20woeid%20from%20geo.places(1)%20where%20text%3D%22"+a+"%2C%20"+i+"%22)%20and%20u%3D%22"):s+="%3D%20%22"+e+"%22%20and%20u%3D%22",s+=D.unidade+"%22&format=json&env=store%3A%2F%2Fdatatables.org%2Falltableswithkeys"}function t(e,a,i){return e||a||i?n(e,a,i):null}function n(e,a,i){var s=null,o=null;return D.cache&&!D.timeout?(o=d(a),o||(o=r(e,a,i),u(o)),s=o):s=r(e,a,i),s}function r(a,i,s){var t=[];return e.ajax({type:"GET",dataType:"json",cache:!1,url:o(a,i,s),async:!1,success:function(e){t=x(e)}}),t}function c(a,i){a.find("*").each(function(){var a=e(this).attr("data-tempo");"cidade"===a&&e(this).html(i.info.cidade),"estado"===a&&e(this).html(i.info.estado),"temperatura"===a&&e(this).html(i.hoje.temperatura),"maxima"===a&&e(this).html(i.hoje.maxima),"minima"===a&&e(this).html(i.hoje.minima),"descricao"===a&&e(this).html(i.hoje.descricao),"icone"===a&&e(this).html(i.hoje.icone),"dia-semana"===a&&e(this).html(i.hoje.dia_semana),"dia-mes"===a&&e(this).html(i.hoje.dia_mes),"dia"===a&&e(this).html(i.hoje.dia);for(var s=0;s<=4;s++)a==="temperatura-"+(s+1)&&e(this).html(i.proximos_dias[s].minima),a==="maxima-"+(s+1)&&e(this).html(i.proximos_dias[s].maxima),a==="minima-"+(s+1)&&e(this).html(i.proximos_dias[s].minima),a==="descricao-"+(s+1)&&e(this).html(i.proximos_dias[s].descricao),a==="icone-"+(s+1)&&e(this).html(i.proximos_dias[s].icone),a==="dia-semana-"+(s+1)&&e(this).html(i.proximos_dias[s].dia_semana),a==="dia-mes-"+(s+1)&&e(this).html(i.proximos_dias[s].dia_mes),a==="dia-"+(s+1)&&e(this).html(i.proximos_dias[s].dia)})}function u(a){if(!e.cookie)return null;if(!a)return null;var i=new Date;i.addMinutos(1),e.cookie(D.cookie_pfx+p(a.info.cidade),JSON.stringify(a,null,"\t"),{expires:i})}function d(a){if(!e.cookie)return null;var i=e.cookie(D.cookie_pfx+p(a));return m(i)}function m(e){try{var a=JSON.parse(e);if(a&&"object"==typeof a&&null!==a)return a}catch(i){}return null}function l(e){return"undefined"==typeof e}function w(e){return e.substr(0,1).toUpperCase()+e.substr(1)}function h(e){return e.toLowerCase()}function f(e){for(com_acento="áàãâäéèêëíìîïóòõôöúùûüçÁÀÃÂÄÉÈÊËÍÌÎÏÓÒÕÖÔÚÙÛÜÇ",sem_acento="aaaaaeeeeiiiiooooouuuucAAAAAEEEEIIIIOOOOOUUUUC",nova="",i=0;i<e.length;i++)com_acento.search(e.substr(i,1))>=0?nova+=sem_acento.substr(com_acento.search(e.substr(i,1)),1):nova+=e.substr(i,1);return nova}function b(e,a,i){return e.substr(a,i)}function p(e){e=e.toLowerCase();var a={a:/(\u00e1|\u00e0|\u00e2|\u00e3|\u00e4)/g,e:/(\u00e9|\u00e8|\u00ea|\u00ea)/g,i:/(\u00ed|\u00ec|\u00ee|\u00ef)/g,o:/(\u00f3|\u00f2|\u00f4|\u00f5|\u00f6)/g,u:/(\u00fa|\u00f9|\u00fb|\u00fc)/g,n:/\u00f1/g,c:/\u00e7/g};for(var i in a)e=e.replace(a[i],i);var s=e.replace(/\s/g,"_"),o=s.replace(/[^a-zA-Z0-9\-]/g,"");return o=o.toLowerCase(),o=o.replace(/-+/g,"-")}function k(a){var i={nome:"",sigla:"",num:0},s=a.split(" "),s=s[1];switch(s=e.isNumeric(s)?parseInt(s):f(b(h(s),0,3))){case"jan":case 1:i.nome="Janeiro",i.num=1,i.sigla="Jan";break;case"feb":case"fev":case 2:i.nome="Fevereiro",i.num=2,i.sigla="Fev";break;case"mar":case 3:i.nome="Março",i.num=3,i.sigla="Mar";break;case"apr":case"abr":case 4:i.nome="Abril",i.num=4,i.sigla="Abr";break;case"may":case"mai":case 5:i.nome="Maio",i.num=5,i.sigla="Mai";break;case"jun":case 6:i.nome="Junho",i.num=6,i.sigla="Jun";break;case"jul":case 7:i.nome="Julho",i.num=7,i.sigla="Jul";break;case"aug":case"ago":case 8:i.nome="Agosto",i.num=8,i.sigla="Ago";break;case"sep":case"set":case 9:i.nome="Setembro",i.num=9,i.sigla="Set";break;case"oct":case"out":case 10:i.nome="Outubro",i.num=10,i.sigla="Out";break;case"nov":case 11:i.nome="Novembro",i.num=11,i.sigla="Nov";break;case"dec":case"dez":case 12:i.nome="Dezembro",i.num=12,i.sigla="Dez"}return i}function v(a){var i={nome:"",semana:0,prefixo:""};switch(a=e.isNumeric(a)?parseInt(a):f(b(h(a),0,3))){case"sun":case"dom":case 0:i.nome="domingo",i.semana=0;break;case"mon":case"seg":case 1:i.nome="segunda",i.semana=1,i.prefixo="feira";break;case"tue":case"ter":case 2:i.nome="terça",i.semana=2,i.prefixo="feira";break;case"wed":case"qua":case 3:i.nome="quarta",i.semana=3,i.prefixo="feira";break;case"thu":case"qui":case 4:i.nome="quinta",i.semana=4,i.prefixo="feira";break;case"fri":case"sex":case 5:i.nome="sexta",i.semana=5,i.prefixo="feira";break;case"sat":case"sab":case 6:i.nome="sábado",i.semana=6}return i}function g(e){var a="";switch(e){case"0":a="tufão";break;case"1":a="tempestade tropical";break;case"2":a="furacão";break;case"3":a="tempestades fortes";break;case"4":a="trovoadas";break;case"5":a="neve e chuva";break;case"6":a="chuva e granizo";break;case"7":a="granizo e neve";break;case"8":a="chuvisco congelado";break;case"9":a="chuvisco";break;case"10":a="chuva congelada";break;case"12":case"11":a="pancadas de chuva";break;case"13":a="flocos de neve";break;case"15":case"14":a="pancadas de neve";break;case"16":a="neve";break;case"17":a="granizo";break;case"18":a="chuva com neve";break;case"19":a="poeira";break;case"20":a="nebuloso";break;case"21":a="névoa";break;case"22":a="enfumaçado";break;case"23":a="tempestuoso";break;case"24":a="ventoso";break;case"25":a="frio";break;case"26":a="nublado";break;case"27":a="noite nublada";break;case"28":a="dia nublado";break;case"29":a="noite parcial nublado";break;case"30":a="dia parcial nublado";break;case"31":a="noite clara";break;case"32":a="ensolarado";break;case"33":a="noite razoável";break;case"34":a="dia razoável";break;case"36":a="quente";break;case"37":a="trovoadas isoladas";break;case"39":case"38":a="Trovoadas dispersas";break;case"40":a="chuvas esparsas";break;case"43":case"41":a="neve pesada";break;case"42":a="insistência de neve";break;case"44":a="parcial nublado";break;case"45":a="chuvas fortes";break;case"46":a="pancadas de neve";break;case"47":a="chuvas fortes isolada";break;case"3200":a="Não disponível"}return a}function y(e){var a=[];return a[0]="wi wi-tornado",a[1]="wi wi-storm-showers",a[2]="wi wi-hurricane",a[3]="wi wi-thunderstorm",a[4]="wi wi-thunderstorm",a[5]="wi wi-rain-mix",a[6]="wi wi-sleet",a[7]="wi wi-sleet",a[8]="wi wi-raindrops",a[9]="wi wi-raindrops",a[10]="wi wi-rain",a[11]="wi wi-showers",a[12]="wi wi-showers",a[13]="wi wi-snow",a[14]="wi wi-snow",a[15]="wi wi-snow",a[16]="wi wi-snow",a[17]="wi wi-hail",a[18]="wi wi-sleet",a[19]="wi wi-dust",a[20]="wi wi-fog",a[21]="wi wi-cloudy-windy",a[22]="wi wi-smoke",a[23]="wi wi-strong-wind",a[24]="wi wi-windy",a[25]="wi wi-snowflake-cold",a[26]="wi wi-cloudy",a[27]="wi wi-night-cloudy",a[28]="wi wi-day-cloudy",a[29]="wi wi-night-partly-cloudy",a[30]="wi wi-day-sunny-overcast",a[31]="wi wi-night-clear",a[32]="wi wi-day-sunny",a[33]="wi wi wi-night-clear",a[34]="wi wi-day-sunny",a[35]="wi wi-hail",a[36]="wi wi-hot",a[37]="wi wi-day-thunderstorm",a[38]="wi wi-thunderstorm",a[39]="wi wi-thunderstorm",a[40]="wi wi-showers",a[41]="wi wi-snow",a[42]="wi wi-snow",a[43]="wi wi-cloudy",a[44]="wi wi-cloudy",a[45]="wi wi-thunderstorm",a[46]="wi wi-snow",a[47]="wi wi-day-sleet-storm",a[3200]="wi wi-na",'<i class="'+a[e]+'"></i>'}function x(a){if(0==a.length||!a.query.results)return null;var i={info:{},hoje:{},proximos_dias:[]},s=a.query.results.channel,o=s.item.condition,t=s.item.forecast;i.info={lat:s.item.lat,"long":s.item["long"],cidade:s.location.city,estado:s.location.region},i.hoje.temperatura=o.temp;for(var n in t){if(5==n)break;var r=t[n],c=r.date.split(" "),u=c[0],d=v(r.day),m=k(r.date),l={data:u+" "+m.nome,data_completa:w(d.nome)+"-"+d.prefixo+", "+u+" "+m.nome,mes:m.nome,dia:u,dia_mes:u+" "+m.nome,dia_semana:w(d.nome)+(d.prefixo?"-"+w(d.prefixo):""),maxima:r.high,minima:r.low,descricao:g(r.code),icone:y(r.code)};0==n?i.hoje=e.extend(i.hoje,l):i.proximos_dias.push(l)}return i}function _(){s(),D.timeout!==!1&&setTimeout(_,1e3*D.timeout)}var j=this,D=e.extend({cookie_pfx:"fptempo_cache_",woeid:null,cidade:null,estado:null,timeout:!1,unidade:"c",format:"html",cache:!0,timeCache:10,callback:null},a);_()}}(jQuery);